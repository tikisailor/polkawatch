{"body":{"took":1001,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":{"value":1553903,"relation":"eq"},"max_score":0,"hits":[{"_index":"pw_reward","_type":"_doc","_id":"8319194-1728","_score":0,"_source":{"date":"2021-12-27T15:37:00.004Z","era":"573","traced":true,"reward":"1780030674","reward_commission":0.01,"reward_type":"staking reward","nominator":"14HETnVBCmAky2k4Z2dWhKYwifT1BU9CGYgJepsfTj3Ztc9x","nomination_value":"3551744916587","validator":"13Q48Ep3PVpvXA1BeVcUhNJerLshsaeq4EdgPUHnemqJYmND","validator_type":"public","validator_identity":true,"traced_heartbeat_id":"7264857-2","traced_heartbeat_type":"session","traced_payout_id":"8319194-1500","validator_parent":"1363HWTPzDrzAQ6ChFiMU6mP4b6jmQid2ae55JQcKtZnpLGv","validator_name":"Jaco / v06","validator_parent_name":"Jaco","validator_parent_web":"https://github.com/jacogr","validator_parent_legal":"Daniel Jacobus Greeff","validator_parent_riot":"@jacogr:matrix.parity.io","validator_country_group_code":"EU","validator_country_group_name":"Europe","validator_country_code":"FR","validator_country_name":"France","validator_asn_code":16276,"validator_asn_name":"OVH SAS","validator_asn_group_name":"OVH","validator_asn_group_code":"NOT_TRACED"}},{"_index":"pw_reward","_type":"_doc","_id":"8319194-1736","_score":0,"_source":{"date":"2021-12-27T15:37:00.004Z","era":"573","traced":true,"reward":"1741540364","reward_commission":0.01,"reward_type":"staking reward","nominator":"12pe5YkBhAWFGpoR487QtTaMpwHwKtRu584MZFnRTefegAxP","nomination_value":"3474941550909","validator":"13Q48Ep3PVpvXA1BeVcUhNJerLshsaeq4EdgPUHnemqJYmND","validator_type":"public","validator_identity":true,"traced_heartbeat_id":"7264857-2","traced_heartbeat_type":"session","traced_payout_id":"8319194-1500","validator_parent":"1363HWTPzDrzAQ6ChFiMU6mP4b6jmQid2ae55JQcKtZnpLGv","validator_name":"Jaco / v06","validator_parent_name":"Jaco","validator_parent_web":"https://github.com/jacogr","validator_parent_legal":"Daniel Jacobus Greeff","validator_parent_riot":"@jacogr:matrix.parity.io","validator_country_group_code":"EU","validator_country_group_name":"Europe","validator_country_code":"FR","validator_country_name":"France","validator_asn_code":16276,"validator_asn_name":"OVH SAS","validator_asn_group_name":"OVH","validator_asn_group_code":"NOT_TRACED"}},{"_index":"pw_reward","_type":"_doc","_id":"8319194-1738","_score":0,"_source":{"date":"2021-12-27T15:37:00.004Z","era":"573","traced":true,"reward":"1739058442","reward_commission":0.01,"reward_type":"staking reward","nominator":"16A9HUt7SJNA64qAcKZP1njVshQA7m8Fbkg9BPG3zbgS8bwq","nomination_value":"3470000000000","validator":"13Q48Ep3PVpvXA1BeVcUhNJerLshsaeq4EdgPUHnemqJYmND","validator_type":"public","validator_identity":true,"traced_heartbeat_id":"7264857-2","traced_heartbeat_type":"session","traced_payout_id":"8319194-1500","validator_parent":"1363HWTPzDrzAQ6ChFiMU6mP4b6jmQid2ae55JQcKtZnpLGv","validator_name":"Jaco / v06","validator_parent_name":"Jaco","validator_parent_web":"https://github.com/jacogr","validator_parent_legal":"Daniel Jacobus Greeff","validator_parent_riot":"@jacogr:matrix.parity.io","validator_country_group_code":"EU","validator_country_group_name":"Europe","validator_country_code":"FR","validator_country_name":"France","validator_asn_code":16276,"validator_asn_name":"OVH SAS","validator_asn_group_name":"OVH","validator_asn_group_code":"NOT_TRACED"}},{"_index":"pw_reward","_type":"_doc","_id":"8319194-1722","_score":0,"_source":{"date":"2021-12-27T15:37:00.004Z","era":"573","traced":true,"reward":"1896619493","reward_commission":0.01,"reward_type":"staking reward","nominator":"16AVdaF6URYjdXChKEbFmDJaXG4pGJDqqHjnXAtyyoe88qT2","nomination_value":"3784385574143","validator":"13Q48Ep3PVpvXA1BeVcUhNJerLshsaeq4EdgPUHnemqJYmND","validator_type":"public","validator_identity":true,"traced_heartbeat_id":"7264857-2","traced_heartbeat_type":"session","traced_payout_id":"8319194-1500","validator_parent":"1363HWTPzDrzAQ6ChFiMU6mP4b6jmQid2ae55JQcKtZnpLGv","validator_name":"Jaco / v06","validator_parent_name":"Jaco","validator_parent_web":"https://github.com/jacogr","validator_parent_legal":"Daniel Jacobus Greeff","validator_parent_riot":"@jacogr:matrix.parity.io","validator_country_group_code":"EU","validator_country_group_name":"Europe","validator_country_code":"FR","validator_country_name":"France","validator_asn_code":16276,"validator_asn_name":"OVH SAS","validator_asn_group_name":"OVH","validator_asn_group_code":"NOT_TRACED"}},{"_index":"pw_reward","_type":"_doc","_id":"8319194-1730","_score":0,"_source":{"date":"2021-12-27T15:37:00.004Z","era":"573","traced":true,"reward":"1778041033","reward_commission":0.01,"reward_type":"staking reward","nominator":"16D4RCMw8bgaAmpcBo6DnHBcD1ajvxrk1iwuRYGM4Z4QhA6H","nomination_value":"3547773685859","validator":"13Q48Ep3PVpvXA1BeVcUhNJerLshsaeq4EdgPUHnemqJYmND","validator_type":"public","validator_identity":true,"traced_heartbeat_id":"7264857-2","traced_heartbeat_type":"session","traced_payout_id":"8319194-1500","validator_parent":"1363HWTPzDrzAQ6ChFiMU6mP4b6jmQid2ae55JQcKtZnpLGv","validator_name":"Jaco / v06","validator_parent_name":"Jaco","validator_parent_web":"https://github.com/jacogr","validator_parent_legal":"Daniel Jacobus Greeff","validator_parent_riot":"@jacogr:matrix.parity.io","validator_country_group_code":"EU","validator_country_group_name":"Europe","validator_country_code":"FR","validator_country_name":"France","validator_asn_code":16276,"validator_asn_name":"OVH SAS","validator_asn_group_name":"OVH","validator_asn_group_code":"NOT_TRACED"}},{"_index":"pw_reward","_type":"_doc","_id":"8319194-1726","_score":0,"_source":{"date":"2021-12-27T15:37:00.004Z","era":"573","traced":true,"reward":"1796942616","reward_commission":0.01,"reward_type":"staking reward","nominator":"164wB86eDNnsuJQVeFTJce78Jh8LkzdXKvzHRQbBFmRMA3p7","nomination_value":"3585489446108","validator":"13Q48Ep3PVpvXA1BeVcUhNJerLshsaeq4EdgPUHnemqJYmND","validator_type":"public","validator_identity":true,"traced_heartbeat_id":"7264857-2","traced_heartbeat_type":"session","traced_payout_id":"8319194-1500","validator_parent":"1363HWTPzDrzAQ6ChFiMU6mP4b6jmQid2ae55JQcKtZnpLGv","validator_name":"Jaco / v06","validator_parent_name":"Jaco","validator_parent_web":"https://github.com/jacogr","validator_parent_legal":"Daniel Jacobus Greeff","validator_parent_riot":"@jacogr:matrix.parity.io","validator_country_group_code":"EU","validator_country_group_name":"Europe","validator_country_code":"FR","validator_country_name":"France","validator_asn_code":16276,"validator_asn_name":"OVH SAS","validator_asn_group_name":"OVH","validator_asn_group_code":"NOT_TRACED"}},{"_index":"pw_reward","_type":"_doc","_id":"8319194-1734","_score":0,"_source":{"date":"2021-12-27T15:37:00.004Z","era":"573","traced":true,"reward":"1754093559","reward_commission":0.01,"reward_type":"staking reward","nominator":"154NBxhWGQirKuuBLN62N7dNZ9xzM1znzXH6qupd3uXLXCPM","nomination_value":"3500000000000","validator":"13Q48Ep3PVpvXA1BeVcUhNJerLshsaeq4EdgPUHnemqJYmND","validator_type":"public","validator_identity":true,"traced_heartbeat_id":"7264857-2","traced_heartbeat_type":"session","traced_payout_id":"8319194-1500","validator_parent":"1363HWTPzDrzAQ6ChFiMU6mP4b6jmQid2ae55JQcKtZnpLGv","validator_name":"Jaco / v06","validator_parent_name":"Jaco","validator_parent_web":"https://github.com/jacogr","validator_parent_legal":"Daniel Jacobus Greeff","validator_parent_riot":"@jacogr:matrix.parity.io","validator_country_group_code":"EU","validator_country_group_name":"Europe","validator_country_code":"FR","validator_country_name":"France","validator_asn_code":16276,"validator_asn_name":"OVH SAS","validator_asn_group_name":"OVH","validator_asn_group_code":"NOT_TRACED"}},{"_index":"pw_reward","_type":"_doc","_id":"8319194-1724","_score":0,"_source":{"date":"2021-12-27T15:37:00.004Z","era":"573","traced":true,"reward":"1825956495","reward_commission":0.01,"reward_type":"staking reward","nominator":"15XisGLeBhRNmK4U3A7EwbXPcAsnYCbKTfb2ZxLPcckV3rJt","nomination_value":"3643399476999","validator":"13Q48Ep3PVpvXA1BeVcUhNJerLshsaeq4EdgPUHnemqJYmND","validator_type":"public","validator_identity":true,"traced_heartbeat_id":"7264857-2","traced_heartbeat_type":"session","traced_payout_id":"8319194-1500","validator_parent":"1363HWTPzDrzAQ6ChFiMU6mP4b6jmQid2ae55JQcKtZnpLGv","validator_name":"Jaco / v06","validator_parent_name":"Jaco","validator_parent_web":"https://github.com/jacogr","validator_parent_legal":"Daniel Jacobus Greeff","validator_parent_riot":"@jacogr:matrix.parity.io","validator_country_group_code":"EU","validator_country_group_name":"Europe","validator_country_code":"FR","validator_country_name":"France","validator_asn_code":16276,"validator_asn_name":"OVH SAS","validator_asn_group_name":"OVH","validator_asn_group_code":"NOT_TRACED"}},{"_index":"pw_reward","_type":"_doc","_id":"8319194-173","_score":0,"_source":{"date":"2021-12-27T15:37:00.004Z","era":"573","traced":true,"reward":"735055776","reward_commission":0.03,"reward_type":"staking reward","nominator":"14b6Rx54uUeUkQ4FKpEqvLiKvd1iULjiqux7p5j7VvFA29UT","nomination_value":"1866495696527","validator":"12MgK2Sc8Rrh6DXS2gDrt7fWJ24eGeVb23NALbZLMw1grnkL","validator_type":"public","validator_identity":true,"traced_heartbeat_id":"8310052-8","traced_heartbeat_type":"session","traced_payout_id":"8319194-17","validator_parent":"12MgK2Sc8Rrh6DXS2gDrt7fWJ24eGeVb23NALbZLMw1grnkL","validator_name":"ðŸŸYellowFin TunaðŸŸ","validator_parent_name":"ðŸŸYellowFin TunaðŸŸ","validator_country_group_code":"NA","validator_country_group_name":"North America","validator_country_code":"US","validator_country_name":"United States","validator_asn_code":213230,"validator_asn_name":"Hetzner Online GmbH","validator_asn_group_name":"HETZNER","validator_asn_group_code":"NOT_TRACED"}},{"_index":"pw_reward","_type":"_doc","_id":"8319194-1732","_score":0,"_source":{"date":"2021-12-27T15:37:00.004Z","era":"573","traced":true,"reward":"1754093559","reward_commission":0.01,"reward_type":"staking reward","nominator":"1mrLaYszaKKVoEqNkxzMj8qc8rYA1eiJw9EhputDr8dBCTZ","nomination_value":"3500000000000","validator":"13Q48Ep3PVpvXA1BeVcUhNJerLshsaeq4EdgPUHnemqJYmND","validator_type":"public","validator_identity":true,"traced_heartbeat_id":"7264857-2","traced_heartbeat_type":"session","traced_payout_id":"8319194-1500","validator_parent":"1363HWTPzDrzAQ6ChFiMU6mP4b6jmQid2ae55JQcKtZnpLGv","validator_name":"Jaco / v06","validator_parent_name":"Jaco","validator_parent_web":"https://github.com/jacogr","validator_parent_legal":"Daniel Jacobus Greeff","validator_parent_riot":"@jacogr:matrix.parity.io","validator_country_group_code":"EU","validator_country_group_name":"Europe","validator_country_code":"FR","validator_country_name":"France","validator_asn_code":16276,"validator_asn_name":"OVH SAS","validator_asn_group_name":"OVH","validator_asn_group_code":"NOT_TRACED"}}]},"aggregations":{"polkawatch":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":"EU","doc_count":1335790,"validator_groups":{"value":141},"reward":{"value":6047582.5978144705},"validators":{"value":204},"nominators":{"value":23687},"name":{"hits":{"total":{"value":1335790,"relation":"eq"},"max_score":null,"hits":[{"_index":"pw_reward","_type":"_doc","_id":"9666670-23","_score":null,"fields":{"validator_country_group_name":["Europe"]},"sort":[1648713294005]}]}},"countries":{"value":17},"networks":{"value":30}},{"key":"NA","doc_count":172776,"validator_groups":{"value":50},"reward":{"value":1280737.336069199},"validators":{"value":62},"nominators":{"value":13667},"name":{"hits":{"total":{"value":172776,"relation":"eq"},"max_score":null,"hits":[{"_index":"pw_reward","_type":"_doc","_id":"9662198-38","_score":null,"fields":{"validator_country_group_name":["North America"]},"sort":[1648686426011]}]}},"countries":{"value":3},"networks":{"value":18}},{"key":"AS","doc_count":44279,"validator_groups":{"value":13},"reward":{"value":497665.474731982},"validators":{"value":16},"nominators":{"value":4822},"name":{"hits":{"total":{"value":44279,"relation":"eq"},"max_score":null,"hits":[{"_index":"pw_reward","_type":"_doc","_id":"9662668-23","_score":null,"fields":{"validator_country_group_name":["Asia"]},"sort":[1648689252003]}]}},"countries":{"value":5},"networks":{"value":7}},{"key":"SA","doc_count":39,"validator_groups":{"value":1},"reward":{"value":8366.1108257563},"validators":{"value":1},"nominators":{"value":29},"name":{"hits":{"total":{"value":39,"relation":"eq"},"max_score":null,"hits":[{"_index":"pw_reward","_type":"_doc","_id":"9499307-174","_score":null,"fields":{"validator_country_group_name":["South America"]},"sort":[1647704328003]}]}},"countries":{"value":1},"networks":{"value":1}},{"key":"AF","doc_count":823,"validator_groups":{"value":1},"reward":{"value":6874.9216726424},"validators":{"value":1},"nominators":{"value":352},"name":{"hits":{"total":{"value":823,"relation":"eq"},"max_score":null,"hits":[{"_index":"pw_reward","_type":"_doc","_id":"9398735-101","_score":null,"fields":{"validator_country_group_name":["Africa"]},"sort":[1647100626004]}]}},"countries":{"value":1},"networks":{"value":1}},{"key":"OC","doc_count":196,"validator_groups":{"value":1},"reward":{"value":3469.8410987880998},"validators":{"value":1},"nominators":{"value":142},"name":{"hits":{"total":{"value":196,"relation":"eq"},"max_score":null,"hits":[{"_index":"pw_reward","_type":"_doc","_id":"9599489-81","_score":null,"fields":{"validator_country_group_name":["Oceania"]},"sort":[1648309836005]}]}},"countries":{"value":1},"networks":{"value":1}}]}}},"statusCode":200,"headers":{"x-elastic-product":"Elasticsearch","content-type":"application/json; charset=UTF-8","content-length":"13697"},"meta":{"context":null,"request":{"params":{"method":"POST","path":"/pw_reward/_search","body":"{\"aggs\":{\"polkawatch\":{\"terms\":{\"field\":\"validator_country_group_code\",\"order\":{\"reward\":\"desc\"},\"size\":10},\"aggs\":{\"name\":{\"top_hits\":{\"fields\":[{\"field\":\"validator_country_group_name\"}],\"_source\":false,\"size\":1,\"sort\":[{\"date\":{\"order\":\"desc\"}}]}},\"reward\":{\"sum\":{\"script\":{\"source\":\"doc['reward'].value/10000000000.0\",\"lang\":\"painless\"}}},\"countries\":{\"cardinality\":{\"field\":\"validator_country_code\"}},\"networks\":{\"cardinality\":{\"field\":\"validator_asn_code\"}},\"validator_groups\":{\"cardinality\":{\"field\":\"validator_parent\"}},\"validators\":{\"cardinality\":{\"field\":\"validator\"}},\"nominators\":{\"cardinality\":{\"field\":\"nominator\"}}}}},\"query\":{\"bool\":{\"filter\":[{\"match_phrase\":{\"traced\":true}},{\"wildcard\":{\"reward_type\":\"staking reward\"}},{\"wildcard\":{\"validator_type\":\"public\"}},{\"script\":{\"script\":{\"source\":\"boolean compare(Supplier s, def v) {return s.get() == v || v == 'all';}compare(() -> { if(doc['validator_identity'].value) return 'with identity';else return 'anonymous'; }, params.value);\",\"lang\":\"painless\",\"params\":{\"value\":\"with identity\"}}}},{\"range\":{\"era\":{\"gte\":499}}}]}}}","querystring":"track_total_hits=true","headers":{"user-agent":"elasticsearch-js/7.17.0 (linux 5.13.0-10037-tuxedo-x64; Node.js v14.17.6)","x-elastic-client-meta":"es=7.17.0,js=14.17.6,t=7.17.0,hc=14.17.6","content-type":"application/json","content-length":"1090"},"timeout":30000},"options":{},"id":1},"name":"elasticsearch-js","connection":{"url":"http://localhost:9200/","id":"http://localhost:9200/","headers":{},"deadCount":0,"resurrectTimeout":0,"_openRequests":0,"status":"alive","roles":{"master":true,"data":true,"ingest":true,"ml":false}},"attempts":0,"aborted":false}}