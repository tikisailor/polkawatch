# Deployment Tutorial

A ```docker-compose``` for production is provided in this folder with the actual services required for deployment.

Polkawatch can simply be deployed by running:

```bash
$ docker-compose up 
```

# About data Volumes

Polkawatch does not require the Data Volumes to be backed up, as the data is generated from the Substrate blockchain,
however, generating the data, in particular the archive phase, is very time-consuming. In that sense it might be worth
storing a backup of the postgress ``pgdata`` volume. At present time the backup requires 100Mb per 1M blocks when 
compressed.

# Data Pack Generation

The IPFS data pack is generated by a gruntfile and can be triggered daily from a gitlab pipeline for convenience. A 
sample ```.gitlabci.yml``` for this purpose is provided. It delivers a ```.car``` archive ready for publishing. 

An additional step should be provided to actually publish the car file on IPFS infrastructure and update entrypoint records
such as DNS records. 